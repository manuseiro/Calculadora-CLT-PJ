<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculadora de Custo de Empregado CLT x PJ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/heroicons@2.0.18/dist/heroicons.min.js"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
  <div class="bg-white p-4 sm:p-6 rounded-lg shadow-lg w-full max-w-4xl min-w-[280px]">
    <h1 class="text-xl sm:text-2xl font-bold mb-4 text-center">Calculadora de Custo CLT x PJ (2025)</h1>
    <form id="calcForm" class="space-y-4">
      <div class="relative">
        <label for="salario" class="block text-sm font-medium text-gray-700">Sal√°rio Bruto CLT ou Valor da Nota PJ (R$):</label>
        <input type="number" id="salario" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm sm:text-base" required min="0" max="500000" step="0.01" value="0" aria-describedby="salario-error">
        <button type="button" class="absolute right-2 top-8 w-8 h-8 flex items-center justify-center text-gray-500 hover:text-gray-700" aria-label="Ajuda sobre Sal√°rio Bruto ou Valor da Nota" data-help="salario">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
        </button>
        <p id="salario-error" class="text-red-600 text-xs sm:text-sm mt-1 hidden" role="alert"></p>
      </div>
      <div class="relative">
        <label for="dependentes" class="block text-sm font-medium text-gray-700">N√∫mero de Dependentes (para IRRF):</label>
        <input type="number" id="dependentes" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm sm:text-base" value="0" min="0" step="1" aria-describedby="dependentes-error">
        <button type="button" class="absolute right-2 top-8 w-8 h-8 flex items-center justify-center text-gray-500 hover:text-gray-700" aria-label="Ajuda sobre Dependentes" data-help="dependentes">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
        </button>
        <p id="dependentes-error" class="text-red-600 text-xs sm:text-sm mt-1 hidden" role="alert"></p>
      </div>
      <div class="relative">
        <label for="valeRefeicao" class="block text-sm font-medium text-gray-700">Vale-Refei√ß√£o/Alimenta√ß√£o (CLT, R$):</label>
        <input type="number" id="valeRefeicao" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm sm:text-base" value="0" min="0" step="0.01" aria-describedby="valeRefeicao-error">
        <button type="button" class="absolute right-2 top-8 w-8 h-8 flex items-center justify-center text-gray-500 hover:text-gray-700" aria-label="Ajuda sobre Vale-Refei√ß√£o" data-help="valeRefeicao">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
        </button>
        <p id="valeRefeicao-error" class="text-red-600 text-xs sm:text-sm mt-1 hidden" role="alert"></p>
      </div>
      <div class="relative">
        <label for="planoSaude" class="block text-sm font-medium text-gray-700">Plano de Sa√∫de (Desconto Empregado CLT, R$):</label>
        <input type="number" id="planoSaude" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm sm:text-base" value="0" min="0" step="0.01" aria-describedby="planoSaude-error">
        <button type="button" class="absolute right-2 top-8 w-8 h-8 flex items-center justify-center text-gray-500 hover:text-gray-700" aria-label="Ajuda sobre Plano de Sa√∫de" data-help="planoSaude">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
        </button>
        <p id="planoSaude-error" class="text-red-600 text-xs sm:text-sm mt-1 hidden" role="alert"></p>
      </div>
      <div class="relative">
        <label for="cestaBasica" class="block text-sm font-medium text-gray-700">Cesta B√°sica/Outros Benef√≠cios (CLT, R$):</label>
        <input type="number" id="cestaBasica" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm sm:text-base" value="0" min="0" step="0.01" aria-describedby="cestaBasica-error">
        <button type="button" class="absolute right-2 top-8 w-8 h-8 flex items-center justify-center text-gray-500 hover:text-gray-700" aria-label="Ajuda sobre Cesta B√°sica" data-help="cestaBasica">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
        </button>
        <p id="cestaBasica-error" class="text-red-600 text-xs sm:text-sm mt-1 hidden" role="alert"></p>
      </div>
      <div class="relative">
        <label for="outrosCustosPJ" class="block text-sm font-medium text-gray-700">Outros Custos (PJ, R$):</label>
        <input type="number" id="outrosCustosPJ" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm sm:text-base" value="0" min="0" step="0.01" aria-describedby="outrosCustosPJ-error">
        <button type="button" class="absolute right-2 top-8 w-8 h-8 flex items-center justify-center text-gray-500 hover:text-gray-700" aria-label="Ajuda sobre Outros Custos PJ" data-help="outrosCustosPJ">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
        </button>
        <p id="outrosCustosPJ-error" class="text-red-600 text-xs sm:text-sm mt-1 hidden" role="alert"></p>
      </div>
      <button type="submit" class="w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm sm:text-base" aria-label="Calcular custos">Calcular</button>
    </form>

    <div id="resultados" class="mt-6 hidden">
      <h2 class="text-lg sm:text-xl font-semibold mb-2">Resultados</h2>
      <div class="flex space-x-2 sm:space-x-4 mb-4">
        <button id="toggleCLT" class="bg-gray-200 text-gray-700 py-1 px-2 sm:px-3 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm sm:text-base" aria-label="Exibir ou ocultar tabela CLT">Ocultar CLT</button>
        <button id="togglePJ" class="bg-gray-200 text-gray-700 py-1 px-2 sm:px-3 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm sm:text-base" aria-label="Exibir ou ocultar tabela PJ">Ocultar PJ</button>
      </div>
      <div class="space-y-4 sm:grid sm:grid-cols-2 sm:gap-4 sm:space-y-0 transition-all duration-300">
        <!-- Resultados CLT -->
        <div id="secaoCLT" class="overflow-x-auto">
          <h3 class="text-base sm:text-lg font-medium text-gray-900">CLT</h3>
          <table class="w-full text-xs sm:text-sm text-left text-gray-500 min-w-[280px]">
            <thead class="text-xs uppercase bg-gray-50">
              <tr>
                <th class="px-2 sm:px-4 py-2">Item</th>
                <th class="px-2 sm:px-4 py-2">Valor (R$)</th>
              </tr>
            </thead>
            <tbody id="tabelaCLT"></tbody>
          </table>
        </div>
        <!-- Resultados PJ -->
        <div id="secaoPJ" class="overflow-x-auto">
          <h3 class="text-base sm:text-lg font-medium text-gray-900">PJ</h3>
          <table class="w-full text-xs sm:text-sm text-left text-gray-500 min-w-[280px]">
            <thead class="text-xs uppercase bg-gray-50">
              <tr>
                <th class="px-2 sm:px-4 py-2">Item</th>
                <th class="px-2 sm:px-4 py-2">Valor (R$)</th>
              </tr>
            </thead>
            <tbody id="tabelaPJ"></tbody>
          </table>
        </div>
      </div>
      <!-- Comparativo -->
      <div id="comparativo" class="mt-6 p-4 bg-indigo-50 rounded-md text-sm sm:text-base"></div>
      <!-- Entenda os Valores -->
      <div class="mt-6">
        <h3 class="text-base sm:text-lg font-medium text-gray-900 mb-2">Entenda os Valores</h3>
        <details class="mb-2 bg-gray-50 rounded-md">
          <summary class="p-2 sm:p-3 text-sm font-medium text-gray-700 cursor-pointer">Sal√°rio Bruto (CLT) / Valor da Nota (PJ)</summary>
          <p class="p-2 sm:p-3 text-xs sm:text-sm text-gray-600">O sal√°rio bruto √© o valor base pago ao empregado CLT antes de descontos. O valor da nota fiscal √© o total cobrado pelo PJ, incluindo impostos e custos.</p>
        </details>
        <details class="mb-2 bg-gray-50 rounded-md">
          <summary class="p-2 sm:p-3 text-sm font-medium text-gray-700 cursor-pointer">INSS Empregado (CLT)</summary>
          <p class="p-2 sm:p-3 text-xs sm:text-sm text-gray-600">Contribui√ß√£o ao INSS descontada do empregado, com al√≠quotas de 7,5% a 14%, at√© o teto de R$ 8.157,41 (2025).</p>
        </details>
        <details class="mb-2 bg-gray-50 rounded-md">
          <summary class="p-2 sm:p-3 text-sm font-medium text-gray-700 cursor-pointer">IRRF (CLT)</summary>
          <p class="p-2 sm:p-3 text-xs sm:text-sm text-gray-600">Imposto de Renda Retido na Fonte, calculado ap√≥s deduzir INSS e dependentes, com al√≠quotas de 0% a 27,5%.</p>
        </details>
        <details class="mb-2 bg-gray-50 rounded-md">
          <summary class="p-2 sm:p-3 text-sm font-medium text-gray-700 cursor-pointer">Vale-Transporte (CLT)</summary>
          <p class="p-2 sm:p-3 text-xs sm:text-sm text-gray-600">Desconto de 6% do sal√°rio para o empregado; o empregador cobre o restante (estimado em 10% do sal√°rio).</p>
        </details>
        <details class="mb-2 bg-gray-50 rounded-md">
          <summary class="p-2 sm:p-3 text-sm font-medium text-gray-700 cursor-pointer">Vale-Refei√ß√£o (CLT)</summary>
          <p class="p-2 sm:p-3 text-xs sm:text-sm text-gray-600">Benef√≠cio pago pelo empregador, com desconto de at√© 20% do empregado (usamos 20%).</p>
        </details>
        <details class="mb-2 bg-gray-50 rounded-md">
          <summary class="p-2 sm:p-3 text-sm font-medium text-gray-700 cursor-pointer">Plano de Sa√∫de (CLT)</summary>
          <p class="p-2 sm:p-3 text-xs sm:text-sm text-gray-600">Valor descontado do empregado; o empregador paga um custo estimado de 2x o desconto.</p>
        </details>
        <details class="mb-2 bg-gray-50 rounded-md">
          <summary class="p-2 sm:p-3 text-sm font-medium text-gray-700 cursor-pointer">Cesta B√°sica/Outros (CLT)</summary>
          <p class="p-2 sm:p-3 text-xs sm:text-sm text-gray-600">Benef√≠cios adicionais pagos integralmente pelo empregador, sem desconto do empregado.</p>
        </details>
        <details class="mb-2 bg-gray-50 rounded-md">
          <summary class="p-2 sm:p-3 text-sm font-medium text-gray-700 cursor-pointer">FGTS (CLT)</summary>
          <p class="p-2 sm:p-3 text-xs sm:text-sm text-gray-600">8% do sal√°rio bruto, pago pelo empregador ao Fundo de Garantia.</p>
        </details>
        <details class="mb-2 bg-gray-50 rounded-md">
          <summary class="p-2 sm:p-3 text-sm font-medium text-gray-700 cursor-pointer">INSS Patronal (CLT)</summary>
          <p class="p-2 sm:p-3 text-xs sm:text-sm text-gray-600">20% do sal√°rio bruto, pago pelo empregador (fora do Simples Nacional).</p>
        </details>
        <details class="mb-2 bg-gray-50 rounded-md">
          <summary class="p-2 sm:p-3 text-sm font-medium text-gray-700 cursor-pointer">Provis√£o 13¬∫ e F√©rias (CLT)</summary>
          <p class="p-2 sm:p-3 text-xs sm:text-sm text-gray-600">Valores provisionados mensalmente (1/12 do sal√°rio) para 13¬∫ sal√°rio, f√©rias e 1/3 constitucional.</p>
        </details>
        <details class="mb-2 bg-gray-50 rounded-md">
          <summary class="p-2 sm:p-3 text-sm font-medium text-gray-700 cursor-pointer">Impostos Simples Nacional (PJ)</summary>
          <p class="p-2 sm:p-3 text-xs sm:text-sm text-gray-600">6% do valor da nota fiscal, assumindo Simples Nacional (Anexo III, faixa inicial).</p>
        </details>
        <details class="mb-2 bg-gray-50 rounded-md">
          <summary class="p-2 sm:p-3 text-sm font-medium text-gray-700 cursor-pointer">INSS Pr√≥-Labore (PJ)</summary>
          <p class="p-2 sm:p-3 text-xs sm:text-sm text-gray-600">11% sobre o pr√≥-labore (m√≠nimo de R$ 1.531 em 2025).</p>
        </details>
        <details class="mb-2 bg-gray-50 rounded-md">
          <summary class="p-2 sm:p-3 text-sm font-medium text-gray-700 cursor-pointer">Custo Contabilidade (PJ)</summary>
          <p class="p-2 sm:p-3 text-xs sm:text-sm text-gray-600">Estimativa de R$ 200/m√™s para servi√ßos cont√°beis.</p>
        </details>
        <details class="mb-2 bg-gray-50 rounded-md">
          <summary class="p-2 sm:p-3 text-sm font-medium text-gray-700 cursor-pointer">Outros Custos (PJ)</summary>
          <p class="p-2 sm:p-3 text-xs sm:text-sm text-gray-600">Custos adicionais informados, como taxas ou servi√ßos extras.</p>
        </details>
      </div>
    </div>

    <!-- Modal de Ajuda -->
    <div id="helpModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50" role="dialog" aria-labelledby="modalTitle" aria-modal="true">
      <div class="bg-white rounded-lg p-4 max-w-sm w-full mx-4">
        <h3 id="modalTitle" class="text-base sm:text-lg font-medium text-gray-900 mb-2">Ajuda</h3>
        <p id="modalContent" class="text-xs sm:text-sm text-gray-600"></p>
        <button id="closeModal" class="mt-4 w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm sm:text-base" aria-label="Fechar modal">Fechar</button>
      </div>
    </div>

    <!-- Bot√£o Voltar ao Topo -->
    <button id="backToTop" class="fixed bottom-4 right-4 bg-indigo-600 text-white p-2 sm:p-3 rounded-full hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 hidden sm:hidden" aria-label="Voltar ao topo">
      <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path></svg>
    </button>

    <script>
      const Calculadora = {
        parseInput(valor) {
          const parsed = parseFloat(valor);
          return isNaN(parsed) || parsed < 0 ? 0 : parsed;
        },

        formatarMoeda(valor) {
          return new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(valor);
        },

        validarEntradas(salario, dependentes, valeRefeicao, planoSaude, cestaBasica, outrosCustosPJ) {
          const erros = [];
          if (salario <= 0) {
            erros.push({ id: 'salario-error', mensagem: 'Por favor, insira um valor v√°lido maior que zero.' });
          } else if (salario > 500000) {
            erros.push({ id: 'salario-error', mensagem: 'O valor n√£o pode exceder R$ 500.000.' });
          }
          if (dependentes < 0) {
            erros.push({ id: 'dependentes-error', mensagem: 'O n√∫mero de dependentes deve ser zero ou positivo.' });
          }
          if (valeRefeicao < 0) {
            erros.push({ id: 'valeRefeicao-error', mensagem: 'O valor do vale-refei√ß√£o deve ser zero ou positivo.' });
          }
          if (planoSaude < 0) {
            erros.push({ id: 'planoSaude-error', mensagem: 'O valor do plano de sa√∫de deve ser zero ou positivo.' });
          }
          if (cestaBasica < 0) {
            erros.push({ id: 'cestaBasica-error', mensagem: 'O valor da cesta b√°sica deve ser zero ou positivo.' });
          }
          if (outrosCustosPJ < 0) {
            erros.push({ id: 'outrosCustosPJ-error', mensagem: 'O valor de outros custos deve ser zero ou positivo.' });
          }
          return erros;
        },

        calcularINSS(salario) {
          const faixas = [
            { limite: 1412, aliquota: 0.075 },
            { limite: 2666.68, aliquota: 0.09 },
            { limite: 4000.03, aliquota: 0.12 },
            { limite: 8157.41, aliquota: 0.14 }
          ];
          let inss = 0;
          let salarioRestante = salario;
          let ultimoLimite = 0;

          for (const faixa of faixas) {
            if (salarioRestante > 0) {
              const base = Math.min(salarioRestante, faixa.limite - ultimoLimite);
              inss += base * faixa.aliquota;
              salarioRestante -= base;
              ultimoLimite = faixa.limite;
            }
          }
          return Math.min(inss, 951.63); // Teto do INSS
        },

        calcularIRRF(salario, inss, dependentes) {
          const deducaoDependente = 211.20;
          const faixasIRRF = [
            { limite: 2257.00, aliquota: 0, deducao: 0 },
            { limite: 2826.65, aliquota: 0.075, deducao: 169.27 },
            { limite: 3751.05, aliquota: 0.15, deducao: 381.44 },
            { limite: 4664.68, aliquota: 0.225, deducao: 662.77 },
            { limite: Infinity, aliquota: 0.275, deducao: 896.00 }
          ];
          const baseCalculo = salario - inss - (dependentes * deducaoDependente);
          for (const faixa of faixasIRRF) {
            if (baseCalculo <= faixa.limite) {
              return Math.max((baseCalculo * faixa.aliquota) - faixa.deducao, 0);
            }
          }
          return 0;
        },

        calcularCLT(salario, dependentes, valeRefeicao, planoSaude, cestaBasica) {
          const inssEmpregado = this.calcularINSS(salario);
          const irrf = this.calcularIRRF(salario, inssEmpregado, dependentes);
          const valeTransporteEmpregado = salario * 0.06;
          const valeTransporteEmpregador = salario * 0.10;
          const fgts = salario * 0.08;
          const inssPatronal = salario * 0.20;
          const provisionado13 = salario / 12;
          const ferias = salario / 12;
          const tercoFerias = ferias / 3;
          const descontoValeRefeicao = valeRefeicao * 0.20; // 20% desconto do empregado
          const custoPlanoSaudeEmpregador = planoSaude * 2; // Estimativa: empregador paga 2x o desconto
          const salarioLiquido = salario - inssEmpregado - irrf - valeTransporteEmpregado - descontoValeRefeicao - planoSaude;
          const custoTotalEmpregador = salario + fgts + inssPatronal + provisionado13 + ferias + tercoFerias + valeTransporteEmpregador + valeRefeicao + custoPlanoSaudeEmpregador + cestaBasica;

          return {
            salarioBruto: salario,
            inssEmpregado,
            irrf,
            valeTransporteEmpregado,
            descontoValeRefeicao,
            planoSaude,
            salarioLiquido,
            fgts,
            inssPatronal,
            provisionado13,
            ferias,
            tercoFerias,
            valeTransporteEmpregador,
            valeRefeicao,
            custoPlanoSaudeEmpregador,
            cestaBasica,
            custoTotalEmpregador
          };
        },

        calcularPJ(valorNota, outrosCustosPJ) {
          const impostosSimples = valorNota * 0.06;
          const proLabore = 1531; // Sal√°rio m√≠nimo 2025
          const inssProLabore = proLabore * 0.11;
          const custoContabilidade = 200;
          const valorLiquido = valorNota - impostosSimples - inssProLabore - custoContabilidade - outrosCustosPJ;

          return {
            valorNota,
            impostosSimples,
            inssProLabore,
            custoContabilidade,
            outrosCustosPJ,
            valorLiquido,
            custoTotalEmpregador: valorNota
          };
        }
      };

      // Dados para o modal de ajuda
      const helpContent = {
        salario: 'Valor do sal√°rio bruto (CLT) ou da nota fiscal emitida (PJ).',
        dependentes: 'N√∫mero de dependentes para dedu√ß√£o no IRRF (R$ 211,20 por dependente).',
        valeRefeicao: 'Valor mensal do vale-refei√ß√£o ou alimenta√ß√£o pago pelo empregador (CLT).',
        planoSaude: 'Valor descontado do empregado para o plano de sa√∫de (CLT).',
        cestaBasica: 'Valor de cesta b√°sica ou outros benef√≠cios pagos pelo empregador (CLT).',
        outrosCustosPJ: 'Custos adicionais para PJ, como taxas ou servi√ßos extras.'
      };

      document.getElementById('calcForm').addEventListener('submit', function (e) {
        e.preventDefault();
        const salario = Calculadora.parseInput(document.getElementById('salario').value);
        const dependentes = Calculadora.parseInput(document.getElementById('dependentes').value);
        const valeRefeicao = Calculadora.parseInput(document.getElementById('valeRefeicao').value);
        const planoSaude = Calculadora.parseInput(document.getElementById('planoSaude').value);
        const cestaBasica = Calculadora.parseInput(document.getElementById('cestaBasica').value);
        const outrosCustosPJ = Calculadora.parseInput(document.getElementById('outrosCustosPJ').value);

        // Limpar mensagens de erro
        document.querySelectorAll('[id$="-error"]').forEach(el => el.classList.add('hidden'));

        // Valida√ß√£o
        const erros = Calculadora.validarEntradas(salario, dependentes, valeRefeicao, planoSaude, cestaBasica, outrosCustosPJ);
        if (erros.length > 0) {
          erros.forEach(erro => {
            const elemento = document.getElementById(erro.id);
            elemento.textContent = erro.mensagem;
            elemento.classList.remove('hidden');
          });
          return;
        }
        // ‚úÖ declarar resultadoCLT e resultadoPJ
        const resultadoCLT = Calculadora.calcularCLT(salario, dependentes, valeRefeicao, planoSaude, cestaBasica);
        const resultadoPJ = Calculadora.calcularPJ(salario, outrosCustosPJ);

        // Exibir resultados
        document.getElementById('resultados').classList.remove('hidden');
        document.getElementById('resultados').scrollIntoView({ behavior: 'smooth' });

        // Tabela CLT
        const tabelaCLT = document.getElementById('tabelaCLT');
        tabelaCLT.innerHTML = `
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg><span title="Sal√°rio base antes de descontos">Sal√°rio Bruto</span></td><td class="px-2 sm:px-4 py-2">${Calculadora.formatarMoeda(resultadoCLT.salarioBruto)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg><span title="Contribui√ß√£o para a Previd√™ncia Social">INSS Empregado</span></td><td class="px-2 sm:px-4 py-2">-${Calculadora.formatarMoeda(resultadoCLT.inssEmpregado)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 14l6-6m-2-2l4 4m-4-4v8m0-8h8"></path></svg><span title="Imposto de Renda Retido na Fonte">IRRF</span></td><td class="px-2 sm:px-4 py-2">-${Calculadora.formatarMoeda(resultadoCLT.irrf)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h18v18H3V3z"></path></svg><span title="Desconto para transporte">Vale-Transporte (Empregado)</span></td><td class="px-2 sm:px-4 py-2">-${Calculadora.formatarMoeda(resultadoCLT.valeTransporteEmpregado)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span title="Desconto do vale-refei√ß√£o (20%)">Desconto Vale-Refei√ß√£o</span></td><td class="px-2 sm:px-4 py-2">-${Calculadora.formatarMoeda(resultadoCLT.descontoValeRefeicao)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg><span title="Desconto do plano de sa√∫de">Plano de Sa√∫de (Empregado)</span></td><td class="px-2 sm:px-4 py-2">-${Calculadora.formatarMoeda(resultadoCLT.planoSaude)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span title="Valor recebido pelo empregado ap√≥s descontos">Sal√°rio L√≠quido</span></td><td class="px-2 sm:px-4 py-2 font-bold">${Calculadora.formatarMoeda(resultadoCLT.salarioLiquido)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 11l7-7 7 7M5 19l7-7 7 7"></path></svg><span title="Fundo de Garantia por Tempo de Servi√ßo">FGTS (Empregador)</span></td><td class="px-2 sm:px-4 py-2">${Calculadora.formatarMoeda(resultadoCLT.fgts)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg><span title="Contribui√ß√£o patronal ao INSS">INSS Patronal</span></td><td class="px-2 sm:px-4 py-2">${Calculadora.formatarMoeda(resultadoCLT.inssPatronal)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg><span title="Provis√£o mensal para o 13¬∫ sal√°rio">Provis√£o 13¬∫</span></td><td class="px-2 sm:px-4 py-2">${Calculadora.formatarMoeda(resultadoCLT.provisionado13)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg><span title="Provis√£o mensal para f√©rias">Provis√£o F√©rias</span></td><td class="px-2 sm:px-4 py-2">${Calculadora.formatarMoeda(resultadoCLT.ferias)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg><span title="Adicional de 1/3 sobre as f√©rias">1/3 F√©rias</span></td><td class="px-2 sm:px-4 py-2">${Calculadora.formatarMoeda(resultadoCLT.tercoFerias)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h18v18H3V3z"></path></svg><span title="Custo do empregador com transporte">Vale-Transporte (Empregador)</span></td><td class="px-2 sm:px-4 py-2">${Calculadora.formatarMoeda(resultadoCLT.valeTransporteEmpregador)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span title="Custo do empregador com vale-refei√ß√£o">Vale-Refei√ß√£o (Empregador)</span></td><td class="px-2 sm:px-4 py-2">${Calculadora.formatarMoeda(resultadoCLT.valeRefeicao)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg><span title="Custo do empregador com plano de sa√∫de">Plano de Sa√∫de (Empregador)</span></td><td class="px-2 sm:px-4 py-2">${Calculadora.formatarMoeda(resultadoCLT.custoPlanoSaudeEmpregador)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14 Afterwardl1 12H4L5 9z"></path></svg><span title="Custo do empregador com cesta b√°sica ou outros benef√≠cios">Cesta B√°sica/Outros</span></td><td class="px-2 sm:px-4 py-2">${Calculadora.formatarMoeda(resultadoCLT.cestaBasica)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span title="Custo total para a empresa">Custo Total Empregador</span></td><td class="px-2 sm:px-4 py-2 font-bold">${Calculadora.formatarMoeda(resultadoCLT.custoTotalEmpregador)}</td></tr>
        `;

        // Tabela PJ
        const tabelaPJ = document.getElementById('tabelaPJ');
        tabelaPJ.innerHTML = `
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg><span title="Valor total da nota fiscal emitida">Valor da Nota Fiscal</span></td><td class="px-2 sm:px-4 py-2">${Calculadora.formatarMoeda(resultadoPJ.valorNota)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 14l6-6m-2-2l4 4m-4-4v8m0-8h8"></path></svg><span title="Impostos do Simples Nacional (6%)">Impostos (Simples Nacional 6%)</span></td><td class="px-2 sm:px-4 py-2">-${Calculadora.formatarMoeda(resultadoPJ.impostosSimples)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg><span title="Contribui√ß√£o ao INSS sobre o pr√≥-labore">INSS Pr√≥-Labore</span></td><td class="px-2 sm:px-4 py-2">-${Calculadora.formatarMoeda(resultadoPJ.inssProLabore)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg><span title="Custo estimado com servi√ßos cont√°beis">Custo Contabilidade</span></td><td class="px-2 sm:px-4 py-2">-${Calculadora.formatarMoeda(resultadoPJ.custoContabilidade)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg><span title="Outros custos adicionais (ex.: taxas, servi√ßos)">Outros Custos</span></td><td class="px-2 sm:px-4 py-2">-${Calculadora.formatarMoeda(resultadoPJ.outrosCustosPJ)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span title="Valor recebido ap√≥s descontos">Valor L√≠quido</span></td><td class="px-2 sm:px-4 py-2 font-bold">${Calculadora.formatarMoeda(resultadoPJ.valorLiquido)}</td></tr>
          <tr><td class="px-2 sm:px-4 py-2 flex items-center"><svg class="w-4 sm:w-5 h-4 sm:h-5 mr-1 sm:mr-2 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span title="Custo total para a empresa">Custo Total Empregador</span></td><td class="px-2 sm:px-4 py-2 font-bold">${Calculadora.formatarMoeda(resultadoPJ.custoTotalEmpregador)}</td></tr>
        `;

        // Comparativo
        const diferencaLiquido = resultadoPJ.valorLiquido - resultadoCLT.salarioLiquido;
        const diferencaCusto = resultadoCLT.custoTotalEmpregador - resultadoPJ.custoTotalEmpregador;
        const comparativo = document.getElementById('comparativo');
        comparativo.innerHTML = `
          <h3 class="text-base sm:text-lg font-medium text-gray-900 mb-2">Comparativo CLT x PJ</h3>
          <p class="text-xs sm:text-sm text-gray-700">
            üí° <strong>Valor L√≠quido:</strong> Como PJ, voc√™ recebe ${Calculadora.formatarMoeda(Math.abs(diferencaLiquido))} 
            ${diferencaLiquido >= 0 ? 'a mais' : 'a menos'} por m√™s comparado ao CLT.
          </p>
          <p class="text-xs sm:text-sm text-gray-700 mt-2">
            üí∞ <strong>Custo para o Empregador:</strong> O custo total para o contratante √© 
            ${Calculadora.formatarMoeda(Math.abs(diferencaCusto))} ${diferencaCusto >= 0 ? 'maior' : 'menor'} no CLT.
          </p>
        `;
      });

      // Alternar visibilidade das tabelas
      document.getElementById('toggleCLT').addEventListener('click', function () {
        const secaoCLT = document.getElementById('secaoCLT');
        const isHidden = secaoCLT.classList.toggle('hidden');
        this.textContent = isHidden ? 'Exibir CLT' : 'Ocultar CLT';
      });

      document.getElementById('togglePJ').addEventListener('click', function () {
        const secaoPJ = document.getElementById('secaoPJ');
        const isHidden = secaoPJ.classList.toggle('hidden');
        this.textContent = isHidden ? 'Exibir PJ' : 'Ocultar PJ';
      });

      // Controle do modal de ajuda
      const helpModal = document.getElementById('helpModal');
      const modalContent = document.getElementById('modalContent');
      const closeModal = document.getElementById('closeModal');

      document.querySelectorAll('button[data-help]').forEach(button => {
        button.addEventListener('click', () => {
          const helpKey = button.getAttribute('data-help');
          modalContent.textContent = helpContent[helpKey];
          helpModal.classList.remove('hidden');
        });
      });

      closeModal.addEventListener('click', () => {
        helpModal.classList.add('hidden');
      });

      helpModal.addEventListener('click', (e) => {
        if (e.target === helpModal) {
          helpModal.classList.add('hidden');
        }
      });

      // Bot√£o Voltar ao Topo
      const backToTop = document.getElementById('backToTop');
      window.addEventListener('scroll', () => {
        if (window.scrollY > 300) {
          backToTop.classList.remove('hidden');
        } else {
          backToTop.classList.add('hidden');
        }
      });

      backToTop.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    </script>
</body>
</html>